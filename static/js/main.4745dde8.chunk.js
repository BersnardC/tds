(this.webpackJsonpaa_cliente=this.webpackJsonpaa_cliente||[]).push([[0],{126:function(e,t,a){e.exports=a(292)},131:function(e,t,a){},269:function(e,t,a){},272:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(31),o=a.n(i),d=(a(131),a(15)),l=a(10),s=a(16),c=a(12),u=a(24),m=a.n(u),p=a(33),_=a(9),g=a(36),f=a(37),b=a(39),v=a(38),x=a(22),y=a.n(x),E=a(293);function h(){var e=Object(d.a)(["\n  {\n    orders(where: {trade_id: {_eq: 266}}, order_by: {trade_date: asc, time: asc}) {\n      id\n      strike\n      time\n      trade_date\n      call_put\n      action\n      exp_date\n      price\n      is_open\n    }\n  }\n"]);return h=function(){return e},e}var F=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e)).state={componentMounted:!1,columns:[{dataField:"id",text:"ID"},{dataField:"symbol",text:"Symbol"},{dataField:"strike",text:"Strike"},{dataField:"exp_date",text:"Exp Date"},{dataField:"trade_date",text:"Date"},{dataField:"time",text:"Time"},{dataField:"price",text:"Price"},{dataField:"quantity",text:"Quantity"},{dataField:"value",text:"Value"},{dataField:"current_pnl",text:"Current PnL"}],products:[]},r}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.state.componentMounted=!0,console.log(this.state.componentMounted)}},{key:"componentWillUnmount",value:function(){console.log("Chao")}},{key:"UNSAFE_componentWillUpdate",value:function(){console.log("LLegue aqui")}},{key:"render",value:function(){var e=this;return n.a.createElement(E.a,{query:O},(function(t){var a=t.loading,r=t.error,i=t.data;return a?n.a.createElement("div",null,"Buscando data"):r?n.a.createElement("div",null,"Ha ocurrido un error: ",r):i?(e.state.products=i.orders,n.a.createElement("div",{className:"container"},n.a.createElement(y.a,{keyField:"id",data:e.state.products,columns:e.state.columns}))):void 0}))}}]),a}(n.a.Component),O=Object(s.b)(h()),S=F,j=a(17),k=a(35),D=a(34),q=a.n(D);a(269);function w(){var e=Object(d.a)(["\n\t  {\n\t    trades {\n\t    \tid\n\t      \tid_reference\n\t      \tsymbol {\n\t\t      symbol\n\t\t    }\n\t      \treturn_dollar\n\t      \treturn_percentage\n\t      \topen_date\n    \t\tclose_date\n\t    }\n\t  }\n\t"]);return w=function(){return e},e}var N=function(){return Object(s.b)(w())},I=function(){var e=Object(r.useState)({trows:[],columns:[{dataField:"id",text:"ID"},{dataField:"id_reference",text:"Reference ID"},{dataField:"symbol_display",text:"Symbol"},{dataField:"return_dollar",text:"Return Dollar"},{dataField:"return_percentage",text:"Return Percentage"},{dataField:"open_date",text:"Open Date"},{dataField:"close_date",text:"Close Date"}]}),t=Object(j.a)(e,2),a=t[0],i=(t[1],Object(_.f)()),o={onClick:function(e,t,a){var r={return_dollar:t.return_dollar,id_reference:t.id_reference,return_percentage:t.return_percentage};sessionStorage.setItem("trad_info",JSON.stringify(r)),i.push("/torders/"+t.id)}};return Object(r.useEffect)((function(){})),n.a.createElement(E.a,{query:N()},(function(e){var t=e.loading,r=e.error,i=e.data;if(t)return n.a.createElement("div",null,"Loading data...");if(r)return n.a.createElement("div",null,"An error has ocurred: ",r);if(i){console.log(i);var d=i.trades,l=d.length;console.log("Ntrades",l);for(var s=0;s<l;s++)d[s].symbol_display=d[s].symbol.symbol,a.trows.push(d[s]);return n.a.createElement("div",{className:"container"},n.a.createElement("h4",null,"Trades List"),n.a.createElement(y.a,{keyField:"trade_tbl",data:a.trows,columns:a.columns,rowEvents:o,pagination:q()()}))}}))},P=a(59),C=a.n(P),L=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return n.a.createElement("tr",{key:this.props.id},n.a.createElement("td",null," ",this.props.data.strike," "),n.a.createElement("td",null," ",this.props.data.exp_date))}}]),a}(r.Component);function J(){var e=Object(d.a)(["\n  {\n    orders(where: {trade_id: {_eq: 266}}, order_by: {trade_date: asc, time: asc}) {\n      id\n      strike\n      time\n      trade_date\n      call_put\n      action\n      exp_date\n      price\n      is_open\n    }\n  }\n"]);return J=function(){return e},e}var R=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return n.a.createElement(E.a,{query:T},(function(e){var t=e.loading,a=e.error,r=e.data;if(t)return n.a.createElement("div",null,"Fetching");if(a)return n.a.createElement("div",null,"Error");console.log(r);var i=r.orders;return n.a.createElement("div",null,i.map((function(e){return console.log(e),n.a.createElement(L,{key:e.id,id:e.id,link:e.call_put,data:e})})))}))}}]),a}(r.Component),T=C()(J()),G=R;a(272);function Y(){var e=Object(d.a)(['\n\t  {\n\t    intraday_price_action(where: {strike: {_eq: "','"}, call_put: {_eq: "','"}, date_time: {_gte: "','"}, _and: {date_time: {_lte: "','"}}}, order_by: {trade_date: asc, time: asc}) {\n\t      trade_date\n\t      time\n\t      call_put\n\t      exp_date\n\t      close\n\t    }\n\t  }\n\t']);return Y=function(){return e},e}function H(){var e=Object(d.a)(["\n\t  {\n\t    orders(where: {trade_id: {_eq: ","}}, order_by: {trade_date: asc, time: asc}) {\n\t      \tid\n\t      \tstrike\n\t     \ttime\n\t      \ttrade_date\n\t      \tcall_put\n\t      \taction\n\t      \texp_date\n\t     \tprice\n\t      \tis_open\n\t    \tquantity\n\t    }\n\t  }\n\t"]);return H=function(){return e},e}function M(e){var t=Object(r.useState)({xcolumns:[{dataField:"id",text:"ID"},{dataField:"symbol",text:"Symbol"},{dataField:"strike",text:"Strike"},{dataField:"exp_date",text:"Exp Date"},{dataField:"trade_date",text:"Date"},{dataField:"time",text:"Time"},{dataField:"price",text:"Price"},{dataField:"call_put",text:"Call/Put"},{dataField:"quantity",text:"Quantity"},{dataField:"position",text:"Position"},{dataField:"value",text:"Value"},{dataField:"accum_value",text:"Accum Value"},{dataField:"current_pnl",text:"Current PnL"}],xorders:[]}),a=Object(j.a)(t,2),i=a[0],o=(a[1],sessionStorage.getItem("groups_ready")?JSON.parse(sessionStorage.getItem("groups_ready")):[]);o.includes(e.name)||o.push(e.name),sessionStorage.setItem("groups_ready",JSON.stringify(o));var d=e.orders[0],l=e.orders.length,s=e.orders[l-1],u="CALL"===d.call_put?"C":"P",m=d.trade_date+" "+d.time,p=d.trade_date+" "+s.time,_=Object(c.c)(W(d.strike,u,m,p)),g=_.loading,f=_.error,b=_.data;if(g)return n.a.createElement("p",null,"Loading...");if(f)return n.a.createElement("p",null,"Error :(");if(b){for(var v=b.intraday_price_action,x=0;x<l;x++)if(""===e.orders[x].price)for(var E=e.orders[x].time.substring(5,0)+":00",h=e.orders[x].trade_date+" "+E,F=v.length,O=0;O<F;O++){if(h==v[O].trade_date+" "+v[O].time){e.orders[x].price=v[O].close;break}}var S=JSON.parse(sessionStorage.getItem("dtimes_process")),k=JSON.parse(sessionStorage.getItem("dt_orders_process"));console.log("DTO",k);sessionStorage.getItem("dt_groups_process");var D=0,q=0,w=function(t){if(!i.xorders.includes(e.orders[t])){"Sell"==e.orders[t].action&&(e.orders[t].quantity=-1*e.orders[t].quantity);var a=e.orders[t].price*e.orders[t].quantity;e.orders[t].value=a,q+=e.orders[t].value,e.orders[t].accum_value=q.toFixed(2),D+=e.orders[t].quantity,e.orders[t].position=D;var r=e.orders[t].price*e.orders[t].position-e.orders[t].accum_value;e.orders[t].current_pnl=r.toFixed(2),i.xorders.push(e.orders[t]);var n=e.orders[t].trade_date+" "+e.orders[t].time.substring(5,0);S.includes(n)||S.push(n),k.some((function(a){return a.id==e.orders[t].id}))||k.push(e.orders[t])}};for(var N in e.orders)w(N);return sessionStorage.setItem("dtimes_process",JSON.stringify(S)),sessionStorage.setItem("dt_orders_process",JSON.stringify(k)),n.a.createElement("div",{className:"container"},n.a.createElement("h4",null,"Leg ",e.indx+1),n.a.createElement(y.a,{keyField:e.name,data:i.xorders,columns:i.xcolumns}),n.a.createElement(A,{current:e.name}))}}function A(e){var t=Object(r.useState)({ycolumns:[{dataField:"date",text:"Date"},{dataField:"time",text:"Time"},{dataField:"running_pnl",text:"Running PnL"}],xrows:[],labels:[],datasets:[{label:"Running PnL",fill:!0,lineTension:0,backgroundColor:"rgba(0,128,0,0.5)",borderColor:"rgba(0,0,0,1)",borderWidth:1,data:[]}]}),a=Object(j.a)(t,2),i=a[0],o=(a[1],!1),d=JSON.parse(sessionStorage.getItem("groups_ready")),l=(sessionStorage.getItem("dt_groups_process"),d.indexOf(e.current));if(console.log(e.current,l),l==d.length-1&&(o=!0),o){var s=JSON.parse(sessionStorage.getItem("dtimes_process")),c=JSON.parse(sessionStorage.getItem("dt_orders_process"));i.labels=s;for(var u=s.length,m=0;m<u;m++){for(var p=c.length,_=0,g=0;g<p;g++){c[g].trade_date+" "+c[g].time.substring(5,0)==s[m]&&(_+=parseFloat(c[g].current_pnl))}var f=s[m].split(" "),b={date:f[0],time:f[1],running_pnl:100*_.toFixed(2)};i.xrows.push(b),i.datasets[0].data.push(b.running_pnl)}return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("h4",null,"Running PnL Table Form"),n.a.createElement(y.a,{keyField:e.name+"r",data:i.xrows,columns:i.ycolumns})),n.a.createElement("div",{className:"col-md-12"},n.a.createElement("div",{className:"row"},n.a.createElement(k.a,{data:i,options:{title:{display:!0,text:"Running PnL Chart",fontSize:20},legend:{display:!0,position:"bottom"}}}))))}return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("hr",null)))}var V=function(e){return Object(s.b)(H(),e)},W=function(e,t,a,r){return Object(s.b)(Y(),e,t,a,r)},Q=function(){var e=Object(r.useState)({orders:[],columns:[{dataField:"id",text:"ID"},{dataField:"symbol",text:"Symbol"},{dataField:"strike",text:"Strike"},{dataField:"exp_date",text:"Exp Date"},{dataField:"trade_date",text:"Date"},{dataField:"time",text:"Time"},{dataField:"price",text:"Price"},{dataField:"call_put",text:"Call/Put"},{dataField:"quantity",text:"Quantity"},{dataField:"value",text:"Value"},{dataField:"current_pnl",text:"Current PnL"}],groups:[],dataGroups:{},filldata:{},iPrices:[]}),t=Object(j.a)(e,2),a=t[0],i=(t[1],Object(_.g)().trade_id);console.log("Componente renderizado"),console.log("PARAM",i);var o=Object(c.a)();sessionStorage.setItem("groups_ready",JSON.stringify([])),sessionStorage.setItem("dtimes_process",JSON.stringify([])),sessionStorage.setItem("dt_orders_process",JSON.stringify([]));var d=JSON.parse(sessionStorage.getItem("trad_info"));return console.log("trad_info",d),Object(r.useEffect)((function(){o.query({query:W("700","C","2020-01-30T15:43:08Z","2020-01-30T15:49:08Z")}).then((function(e){a.iPrices=e.data.intraday_price_action})).catch((function(e){return console.error(e)}))})),n.a.createElement(E.a,{query:V(i)},(function(e){var t=e.loading,r=e.error,o=e.data;if(t)return n.a.createElement("div",null,"Buscando data");if(r)return n.a.createElement("div",null,"Ha ocurrido un error: ",r);if(o){console.log("Data: ",o);var l=sessionStorage.getItem("dtimes_process")&&JSON.parse(sessionStorage.getItem("dtimes_process")).length?JSON.parse(sessionStorage.getItem("dtimes_process")):[],s=sessionStorage.getItem("dt_orders_process")&&JSON.parse(sessionStorage.getItem("dt_orders_process")).length?JSON.parse(sessionStorage.getItem("dt_orders_process")):[];sessionStorage.setItem("dtimes_process",JSON.stringify(l)),sessionStorage.setItem("dt_orders_process",JSON.stringify(s)),a.orders=o.orders;for(var c=o.orders.length,u=0;u<c;u++){var p=a.orders[u].strike+a.orders[u].exp_date+a.orders[u].call_put;a.groups.includes(p)||a.groups.push(p),a.dataGroups.hasOwnProperty(p)||(a.dataGroups[p]=[]),a.dataGroups[p].push(a.orders[u])}var _=a.groups.length;sessionStorage.setItem("dt_groups_process",_);for(var g=0;g<_;g++){var f=a.dataGroups[a.groups[g]];if(a.filldata[a.groups[g]]=[],f.length)for(var b=m()(f[0].trade_date+" "+f[0].time,"DD-MM-YYYY HH:mm:ss"),v=m()(f[_-1].trade_date+" "+f[_-1].time,"DD-MM-YYYY HH:mm:ss").diff(b,"minutes"),x=1;x<v;x++){var E=m()(f[0].time,"h:m:s").add(x,"minutes").format("HH:mm:ss"),h={id:f[0].id+"."+x,strike:f[0].strike,action:f[0].action,call_put:f[0].call_put,exp_date:f[0].exp_date,price:"",is_open:f[0].is_open,trade_date:f[0].trade_date,time:E,quantity:0};a.filldata[a.groups[g]].push(h)}}for(var F=0;F<_;F++){var O=a.dataGroups[a.groups[F]].concat(a.filldata[a.groups[F]]);O.sort((function(e,t){return new Date(e.trade_date+" "+e.time)-new Date(t.trade_date+" "+t.time)})),a.dataGroups[a.groups[F]]=O}return a.iPrices.length?n.a.createElement("div",{className:"container"},a.groups.map((function(e){return n.a.createElement(y.a,{keyField:e,data:a.dataGroups[e],columns:a.columns})}))):n.a.createElement("div",{className:"container"},n.a.createElement("ul",null,n.a.createElement("li",{keyField:"trade_id"},"ID: ",i),d?n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{keyField:"return_dollar"},"Return Dollar: ",d.return_dollar),n.a.createElement("li",{keyField:"return_percentage"},"Return Percentage: ",d.return_percentage),n.a.createElement("li",{keyField:"id_reference"},"Reference ID: ",d.id_reference)):""),a.groups.map((function(e,t){return n.a.createElement(M,{name:e,indx:t,orders:a.dataGroups[e]})})))}}))},B=a(26);function Z(){var e=Object(d.a)(['\n\t  {\n\t    intraday_price_action(where: {strike: {_eq: "','"}, call_put: {_eq: "','"}, date_time: {_gte: "','"}, _and: {date_time: {_lte: "','"}}}, order_by: {trade_date: asc, time: asc}) {\n\t      trade_date\n\t      time\n\t      call_put\n\t      exp_date\n\t      close\n\t    }\n\t  }\n\t']);return Z=function(){return e},e}function z(){var e=Object(d.a)(["\n\t  {\n\t    orders(where: {trade_id: {_eq: ","}}, order_by: {trade_date: asc, time: asc}) {\n\t      \tid\n\t      \tstrike\n\t     \ttime\n\t      \ttrade_date\n\t      \tcall_put\n\t      \taction\n\t      \texp_date\n\t     \tprice\n\t      \tis_open\n\t    \tquantity\n\t    }\n\t  }\n\t"]);return z=function(){return e},e}function U(e){var t=Object(r.useState)({xcolumns:[{dataField:"id",text:"ID"},{dataField:"symbol",text:"Symbol"},{dataField:"strike",text:"Strike"},{dataField:"exp_date",text:"Exp Date"},{dataField:"trade_date",text:"Date"},{dataField:"time",text:"Time"},{dataField:"price",text:"Price"},{dataField:"call_put",text:"Call/Put"},{dataField:"quantity",text:"Quantity"},{dataField:"position",text:"Position"},{dataField:"value",text:"Value"},{dataField:"accum_value",text:"Accum Value"},{dataField:"current_pnl",text:"Current PnL"}],orders:[]}),a=Object(j.a)(t,2),i=a[0],o=a[1],d=Object(c.a)();return n.a.useEffect((function(){!function(){var t=e.orders,a=t.length,r=t[a-1],n=t[0],i=n.trade_date+" "+n.time,l=n.trade_date+" "+r.time,s="CALL"===n.call_put?"C":"P";d.query({query:K(n.strike,s,i,l)}).then((function(e){console.log("Result Price",e);for(var r=e.data.intraday_price_action,n=0;n<a;n++)if(""===t[n].price)for(var i=t[n].time.substring(5,0)+":00",d=t[n].trade_date+" "+i,l=r.length,s=0;s<l;s++){if(d==r[s].trade_date+" "+r[s].time){t[n].price=r[s].close;break}}var c=[],u=0,m=0;for(var p in t)if(!c.includes(t[p])){"Sell"==t[p].action&&(t[p].quantity=-1*t[p].quantity);var _=t[p].price*t[p].quantity;t[p].value=_,m+=t[p].value,t[p].accum_value=m.toFixed(2),u+=t[p].quantity,t[p].position=u;var g=t[p].price*t[p].position-t[p].accum_value;t[p].current_pnl=g.toFixed(2),c.push(t[p])}o((function(e){return Object(B.a)(Object(B.a)({},e),{},{orders:t})}))})).catch((function(e){return console.error(e)}))}()}),[]),n.a.createElement("div",{className:"container"},n.a.createElement("h4",null,"Leg ",e.indx+1),n.a.createElement(y.a,{keyField:e.name,data:i.orders,columns:i.xcolumns,pagination:q()()}))}var $=function(e){return Object(s.b)(z(),e)},K=function(e,t,a,r){return Object(s.b)(Z(),e,t,a,r)},X=function(){var e=Object(c.a)(),t=Object(r.useState)(!0),a=Object(j.a)(t,2),i=a[0],o=a[1],d=Object(r.useState)({groups:[],dataGroups:{},filldata:{},orders:[]}),l=Object(j.a)(d,2),s=l[0],u=l[1],p=function(e,t){var a=new Date(e);return(new Date(t).getTime()-a.getTime())/6e4},g=Object(_.g)().trade_id;n.a.useEffect((function(){e.query({query:$(g)}).then((function(e){for(var t,a=e.data.orders,r=[],n={},i={},d=a.length,l=0;l<d;l++){var s=a[l].strike+a[l].exp_date+a[l].call_put;r.includes(s)||r.push(s),n.hasOwnProperty(s)||(n[s]=[]),n[s].push(a[l])}t=r.length;for(var c=0;c<t;c++){var _=n[r[c]];if(i[r[c]]=[],_.length)for(var g=_[0].trade_date+" "+_[0].time.substring(5,0)+":00",f=_[1].trade_date+" "+_[1].time.substring(5,0)+":00",b=p(g,f),v=1;v<b;v++){var x=m()(_[0].time,"h:m:s").add(v,"minutes").format("HH:mm:ss"),y={id:_[0].id+"."+v,strike:_[0].strike,action:_[0].action,call_put:_[0].call_put,exp_date:_[0].exp_date,price:"",is_open:_[0].is_open,trade_date:_[0].trade_date,time:x,quantity:0};i[r[c]].push(y)}}for(var E=0;E<t;E++){var h=n[r[E]].concat(i[r[E]]);h.sort((function(e,t){return new Date(e.trade_date+" "+e.time)-new Date(t.trade_date+" "+t.time)})),n[r[E]]=h}u((function(e){return Object(B.a)(Object(B.a)({},e),{},{orders:a,dataGroups:n,groups:r})})),console.log("DtG",n),o(!1)})).catch((function(e){return console.error(e)}))}),[]);var f=JSON.parse(sessionStorage.getItem("trad_info"));return i?n.a.createElement("h3",null,"Loading"):n.a.createElement("div",{className:"container"},n.a.createElement("ul",null,n.a.createElement("li",{keyField:"trade_id"},"ID: ",g),f?n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{keyField:"return_dollar"},"Return Dollar: ",f.return_dollar),n.a.createElement("li",{keyField:"return_percentage"},"Return Percentage: ",f.return_percentage),n.a.createElement("li",{keyField:"id_reference"},"Reference ID: ",f.id_reference)):""),s.groups.map((function(e,t){return n.a.createElement(U,{name:e,indx:t,orders:s.dataGroups[e]})})))},ee=a(124),te=a.n(ee);function ae(e){var t=Object(r.useState)({xcolumns:[{dataField:"id",text:"ID"},{dataField:"symbol",text:"Symbol"},{dataField:"strike",text:"Strike"},{dataField:"exp_date",text:"Exp Date"},{dataField:"trade_date",text:"Date"},{dataField:"time",text:"Time"},{dataField:"price",text:"Price"},{dataField:"call_put",text:"Call/Put"},{dataField:"quantity",text:"Quantity"},{dataField:"position",text:"Position"},{dataField:"value",text:"Value"},{dataField:"accum_value",text:"Accum Value"},{dataField:"current_pnl",text:"Current PnL"}],orders:[]}),a=Object(j.a)(t,2),i=a[0],o=a[1];Object(c.a)();return n.a.useEffect((function(){o((function(t){return Object(B.a)(Object(B.a)({},t),{},{orders:e.orders})}))}),[]),n.a.createElement("div",{className:"container"},n.a.createElement("h4",null,"Leg ",e.indx+1),n.a.createElement(y.a,{keyField:e.name,data:i.orders,columns:i.xcolumns,pagination:q()()}))}function re(e){var t=Object(r.useState)({columns:[{dataField:"date",text:"Date"},{dataField:"time",text:"Time"},{dataField:"running_pnl",text:"Running PnL"}],xrows:[],labels:[],datasets:[{label:"Running PnL",fill:!0,lineTension:0,backgroundColor:"rgba(0,128,0,0.5)",borderColor:"rgba(0,0,0,1)",borderWidth:1,data:[]}]}),a=Object(j.a)(t,2),i=a[0],o=a[1];return n.a.useEffect((function(){for(var t=e.data.length,a=[],r=0;r<t;r++)a.push(e.data[r].running_pnl);var n=[{label:"Running PnL",fill:!0,lineTension:0,backgroundColor:"rgba(0,128,0,0.5)",borderColor:"rgba(0,0,0,1)",borderWidth:1,data:a}];o((function(t){return Object(B.a)(Object(B.a)({},t),{},{xrows:e.data,datasets:n,labels:e.labels})}))}),[]),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("h4",null,"Running PnL Table Form"),n.a.createElement(y.a,{keyField:e.name+"r",data:i.xrows,columns:i.columns,pagination:q()()})),n.a.createElement("div",{className:"col-md-12"},n.a.createElement("div",{className:"row"},n.a.createElement(k.a,{data:i,options:{title:{display:!0,text:"Running PnL Chart",fontSize:20},legend:{display:!0,position:"bottom"}}}))))}var ne=function(){Object(c.a)();var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],i=t[1],o=Object(r.useState)({groups:[],dataGroups:{},filldata:{},orders:[],data_resumen:[],labels:[]}),d=Object(j.a)(o,2),l=d[0],s=d[1],u=Object(_.g)().trade_id;n.a.useEffect((function(){te.a.post("https://price-action-interpreter.herokuapp.com/trade/info/"+u,{}).then((function(e){var t=e.data;s((function(e){return Object(B.a)(Object(B.a)({},e),{},{dataGroups:t.data_groups,groups:t.groups,data_resumen:t.pnl_resumen,labels:t.dtimes_process})})),i(!1)})).catch((function(e){return console.error(e)}))}),[]);var m=JSON.parse(sessionStorage.getItem("trad_info"));return a?n.a.createElement("p",null,"Loading info for trade... please wait."):n.a.createElement("div",{className:"container"},n.a.createElement("ul",null,n.a.createElement("li",{keyField:"trade_id"},"ID: ",u),m?n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{keyField:"return_dollar"},"Return Dollar: ",m.return_dollar),n.a.createElement("li",{keyField:"return_percentage"},"Return Percentage: ",m.return_percentage),n.a.createElement("li",{keyField:"id_reference"},"Reference ID: ",m.id_reference)):""),l.groups.map((function(e,t){return n.a.createElement(ae,{name:e,indx:t,orders:l.dataGroups[e]})})),n.a.createElement(re,{name:"resumen_pnl",data:l.data_resumen,labels:l.labels}))};function ie(){var e=Object(d.a)(["\n        {\n          orders(where: {trade_id: {_eq: 266}}, order_by: {trade_date: asc, time: asc}) {\n            id\n            strike\n            time\n            trade_date\n            call_put\n            action\n            exp_date\n            price\n            is_open\n          }\n        }\n      "]);return ie=function(){return e},e}function oe(){var e=Object(d.a)(['\n  {\n    intraday_price_action(where: {strike: {_eq: "','"}, call_put: {_eq: "','"}, date_time: {_gte: "','"}, _and: {date_time: {_lte: "','"}}}, order_by: {trade_date: asc, time: asc}) {\n      trade_date\n      time\n      call_put\n      exp_date\n      close\n    }\n  }\n']);return oe=function(){return e},e}function de(){var e=Object(d.a)(["\n  {\n    orders(where: {trade_id: {_eq: 266}}, order_by: {trade_date: asc, time: asc}) {\n      id\n      strike\n      time\n      trade_date\n      call_put\n      action\n      exp_date\n      price\n      is_open\n    }\n  }\n"]);return de=function(){return e},e}var le=new s.a({uri:"https://auto-alpha-db.herokuapp.com/v1/graphql"}),se=Object(s.b)(de());function ce(){var e=Object(c.c)(se),t=e.loading,a=e.error,r=e.data;if(t)return n.a.createElement("p",null,"Loading...");if(a)return n.a.createElement("p",null,"Error :(");console.log(r);var i=m()("20/06/2020 12:00:00","DD/MM/YYYY HH:mm:ss"),o=m()("25/06/2020 12:00:00","DD/MM/YYYY HH:mm:ss");return console.log(o.diff(i,"minutes")),n.a.createElement("h2",null,"About")}function ue(){return le.query({query:Object(s.b)(ie())}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)})),n.a.createElement("h2",null,"Welcome")}function me(){var e,t,a,r,i=Object(c.c)((e="700",t="C",a="2020-01-30T15:43:08Z",r="2020-01-30T15:49:08Z",Object(s.b)(oe(),e,t,a,r))),o=i.loading,d=i.error,l=i.data;return o?n.a.createElement("p",null,"Loading..."):d?n.a.createElement("p",null,"Error :("):(console.log("Data 2",l),n.a.createElement("h2",null,"About2"))}var pe=function(){return n.a.createElement(l.a,{client:le},n.a.createElement("div",null,n.a.createElement(p.a,null,n.a.createElement(_.c,null,n.a.createElement(_.a,{exact:!0,path:"/",component:I}),n.a.createElement(_.a,{path:"/orders/:trade_id",component:Q}),n.a.createElement(_.a,{path:"/ordenes/:trade_id",component:X}),n.a.createElement(_.a,{path:"/torders/:trade_id",component:ne}),n.a.createElement(_.a,{path:"/tables",component:S}),n.a.createElement(_.a,{path:"/about",component:ce}),n.a.createElement(_.a,{path:"/about2",component:me}),n.a.createElement(_.a,{path:"/welcome",component:ue}),n.a.createElement(_.a,{path:"/links",component:G})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(289);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[126,1,2]]]);
//# sourceMappingURL=main.4745dde8.chunk.js.map